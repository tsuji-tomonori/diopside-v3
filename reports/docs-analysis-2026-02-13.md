# docs 分析レポート（2026-02-13）

## 0. 対象と実施結果
- 対象: `docs/**/*.md`（計381ファイル）
- 構造チェック: `task docs:check` 実行結果 `issues: 0 / broken_links: 0 / nonlinked_doc_ids: 0`
- 参照した主トレース:
  - `docs/1.要求(RQ)/71.要求トレーサビリティマトリックス(RTM)/RQ-RTM-001.md:56`
  - `docs/1.要求(RQ)/71.要求トレーサビリティマトリックス(RTM)/RQ-RTM-002.md:57`
  - `docs/1.要求(RQ)/71.要求トレーサビリティマトリックス(RTM)/RQ-RTM-002.md:203`

## 1. 結論サマリ（依頼観点ごと）
| 観点 | 判定 | 要点 |
| --- | --- | --- |
| 要求に矛盾がないか | 概ね良好（要改善あり） | 要求自体の重大矛盾は見当たらないが、要求→検証の「直接リンク」欠落が残る。 |
| すべての要求に答える基本設計か | 概ね満たす | RTM上、FR/NFRは設計文書に到達。 |
| 基本設計に矛盾がないか | 概ね良好 | 重大な内部矛盾は見当たらない。 |
| 詳細設計は基本設計準拠か | 概ね満たす | DDの多くはBD/ADR経由で追跡可能。 |
| FE/BE/Batch/Infraが迷わず実装可能か | 部分的に不足 | テスト計画・判定文書がAPI拡張に追随しておらず、実装完了判定がぶれる。 |
| 設計のあいまいさがないか | 要改善 | テスト計画とRTMの正本範囲が不一致。 |
| UT/IT/AT反映性 | 経路判定は満たすが文書整合に課題 | RTM自動判定は PASS だが、計画/判定文書側の対象範囲が古い。 |
| 運用が適切に行えるか | 基本は可、判定基準更新が必要 | Runbookはあるが Go/No-Go 入力対象が最新範囲を網羅していない。 |
| 非機能要求を守っているか | 概ね担保 | NFR向け設計・運用受入は整備。 |
| 非機能要件/コーディング規約/文書規約の抜け漏れ | 重要な運用漏れあり | 文書ステータスがほぼ全件「下書き」で承認運用が回っていない。 |

## 2. 定量結果
- RTM（経路判定）:
  - 要求 -> AT: `59/59 PASS`（`RQ-RTM-002` テスト層）
  - 基本設計 -> IT: `41/41 PASS`
  - 詳細設計 -> UT: `64/64 PASS`
- ただし `RQ-RTM-001` 要求別ビューの「検証」列で `-` が残る要求が11件（例: `RQ-FR-006`, `RQ-FR-007`, `RQ-FR-008`, `RQ-FR-017`, `RQ-DEV-002`）。
  - 参照: `docs/1.要求(RQ)/71.要求トレーサビリティマトリックス(RTM)/RQ-RTM-001.md:64`, `docs/1.要求(RQ)/71.要求トレーサビリティマトリックス(RTM)/RQ-RTM-001.md:70`
- ステータス分布:
  - `下書き: 358`, `廃止: 1`, `承認: 0`

## 3. 主要Findings（優先度順）

### High-1: テスト計画（UT/IT）がAPI拡張に未追随
- `UT-PLAN-005` は対象を `DD-API-002..009` と `UT-CASE-001..008` に固定（`docs/4.単体テスト(UT)/11.単体テスト計画/UT-PLAN-005.md:40`, `docs/4.単体テスト(UT)/11.単体テスト計画/UT-PLAN-005.md:52`）。
- `IT-PLAN-001` も同様に `DD-API-002..009` / `IT-CASE-001..008` を前提（`docs/5.結合テスト(IT)/11.結合テスト計画/IT-PLAN-001.md:24`, `docs/5.結合テスト(IT)/11.結合テスト計画/IT-PLAN-001.md:42`）。
- 一方、RTM設計別ビューは `DD-API-010..015`、`UT-CASE-009..013`、`IT-CASE-009..013` まで追跡。

### High-2: 受入計画/判定文書が最新受入シナリオを網羅していない
- `AT-PLAN-001` の受入シナリオ一覧に `AT-SCN-006/008/009` がない（`docs/6.受入テスト(AT)/11.受入テスト計画/AT-PLAN-001.md:38`）。
- `AT-GO-001` の Go 条件は `AT-SCN-001..005` と `DD-API-002..009` に限定（`docs/6.受入テスト(AT)/52.リリース判定/AT-GO-001.md:40`, `docs/6.受入テスト(AT)/52.リリース判定/AT-GO-001.md:41`）。
- `AT-RPT-001` も関連/テンプレートが同様に未網羅（`docs/6.受入テスト(AT)/61.受入テスト報告/AT-RPT-001.md:17`, `docs/6.受入テスト(AT)/61.受入テスト報告/AT-RPT-001.md:73`）。

### Medium-1: RTM要求別ビューの直接検証リンク欠落
- `RQ-RTM-002` の経路判定は PASS だが、`RQ-RTM-001` の検証列 `-` が残存。
- `RQ-DG-001` では FR/NFR変更時に `RQ-RTM-001` へ主要テストIDを直接記載する運用を要求しているため、運用規約とのズレ。

### Medium-2: 設計文書の一部が根拠要求（FR/NFR）に未接続
- 例: `DD-ARCH-002`, `DD-AV-002`, `DD-IAC-001`, `DD-LOG-002`, `DD-SEC-002` は設計別ビューで根拠要件列が `-`。
- 実装そのものより、変更影響評価で漏れやすい。

### Medium-3: 承認ステータス運用が実質機能していない
- 全体で `承認` 文書が 0 件。
- 文書規約は存在するが、リリース判定と連動した承認ゲートが不在。

## 4. 改善提案（実行順）
1. `UT-PLAN-005` と `IT-PLAN-001` を最新API範囲（`DD-API-010..015`）に更新し、ケース一覧と完了条件の件数を実態に合わせる。
2. `AT-PLAN-001` / `AT-GO-001` / `AT-RPT-001` を `AT-SCN-001..009` と `DD-API-002..015` の体系へ更新する。
3. `RQ-RTM-001` の検証列 `-` を優先的に解消し、`RQ-DG-001` の直接リンク必須要件と一致させる。
4. FR/NFRに直接紐づかないDD文書は、`RQ-*` か `BD-*` の正本根拠を明記してトレース断線を防ぐ。
5. Go/No-Go前提として「対象文書の `status: 承認`」を最低限のゲートに追加する。

## 5. 補足（運用・非機能・規約）
- 運用手順書自体（`AT-RUN-001`, `AT-OPS-001`）は具体性があり、非機能観点も閾値化されている。
- ただし最終判定文書（`AT-GO-001`）の対象範囲が古いため、運用可能性評価が過小カバレッジになる。
- コーディング規約（`DD-CODE-001`）とレビュー規約（`DD-REV-001`）は妥当。実運用上は「承認ステータス運用」との連携強化が必要。
