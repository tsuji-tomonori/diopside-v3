---
id: UT-MOCK-001
title: モック方針 001
doc_type: モック方針
phase: UT
version: 1.0.2
status: 下書き
owner: RQ-SH-001
created: 2026-01-31
updated: '2026-02-11'
up:
- '[[BD-TST-001]]'
- '[[DD-API-001]]'
related:
- '[[UT-PLAN-001]]'
- '[[UT-PLAN-002]]'
- '[[UT-PLAN-003]]'
- '[[UT-PLAN-004]]'
- '[[UT-PLAN-005]]'
- '[[IT-PLAN-001]]'
tags:
- diopside
- UT
- MOCK
---


## テスト目的
- 領域ごとにモック対象と非モック対象を明確化し、単体テストの再現性と保守性を高める。

## 観点
- DOC: 文書検査コマンド自体は実行し、外部依存（ネットワーク）を持ち込まない。
- INF: AWS実体呼び出しをモックし、Constructとrewriteロジックは実コードを評価する。
- FE: API応答と時刻依存をモックし、検索/表示の純粋ロジックは実コードで評価する。
- BE: リポジトリ、キュー、外部APIをモックし、契約判定・バリデーション・状態遷移を実コードで評価する。

## 実行方針
- モックは「遅い/不安定/外部課金」依存に限定し、ドメイン判定ロジックはモックしない。
- 失敗時はモック定義ではなく実装責務のどこが破綻したかを記録する。
- モックのI/O契約を変更した場合は、同一変更で対象UTケースを更新する。

## 変更履歴
- 2026-02-11: 領域別モック方針（DOC/INF/FE/BE）を追加
- 2026-02-10: 新規作成
