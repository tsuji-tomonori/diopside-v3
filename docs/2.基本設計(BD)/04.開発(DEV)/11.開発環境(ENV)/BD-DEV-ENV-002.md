---
id: BD-DEV-ENV-002
title: 本番環境
doc_type: 環境設計
phase: BD
version: 1.0.3
status: 下書き
owner: RQ-SH-001
created: 2026-01-31
updated: '2026-02-13'
up:
- '[[RQ-SC-001]]'
- '[[RQ-PC-005]]'
related:
- '[[RQ-AV-001]]'
- '[[RQ-PS-001]]'
- '[[RQ-SEC-001]]'
- '[[RQ-DEV-001]]'
- '[[BD-SYS-ADR-018]]'
- '[[BD-INF-DEP-004]]'
- '[[BD-INF-ENV-001]]'
- '[[BD-INF-NET-001]]'
- '[[BD-SYS-ADR-028]]'
- '[[AT-PLAN-001]]'
tags:
- diopside
- BD
- ENV
---


## 設計方針
- 本番環境は、公開アーカイブ閲覧サービスの継続提供を最優先とし、可用性・性能・セキュリティ閾値を満たす構成で運用する。
- システム実行基盤は [[RQ-PC-005]] に従い AWS に統一し、配信基盤は S3 + CloudFront を中心に構成する。

## 環境定義
- 実行主体: AWS本番アカウント上の配信・API・運用監視構成。
- 主要用途: [[RQ-SH-002|利用者]]向け配信、管理画面運用、公開手順/障害手順の実運用。
- 配信経路: 単一CloudFront配下で `'/web/*'`, `'/docs/*'`, `'/openapi/*'`, `'/api/v1/*'` を分岐する。

## 必須依存
- 配信: S3 + CloudFront（OAC前提）、経路別キャッシュ/無効化運用。
- デプロイ: `task docs:deploy` と CDK による再現可能な配備。
- 監視/判定: 可用性・性能・セキュリティの指標を運用文書で判定可能に維持する。

## 運用上の制約
- 本番変更は小差分で実施し、手順書と判定記録を同一変更で更新する（[[RQ-DEV-001]] 整合）。
- `'/openapi/*'` と `'/api/v1/*'` は未認証アクセスを拒否し、認証境界を崩さない（[[RQ-SEC-001]] 整合）。
- 可用率・MTTR・計画停止時間は [[RQ-AV-001]] の閾値を満たし、閾値未達時はGo/No-Go判定を保留する。
- 操作性能は [[RQ-PS-001]] の計測条件とp95閾値で継続監視し、劣化時は次リリースまでに是正する。
- 検証は常設ステージを持たず、本番準拠の一時環境で事前確認した結果を受入文書へ記録する。
- ネットワーク境界と環境昇格ルールの正本は [[BD-INF-ENV-001]] / [[BD-INF-NET-001]] とする。

## 変更履歴
- 2026-02-13: INF文書参照（環境分割/ネットワーク境界）を追加 [[BD-SYS-ADR-028]]
- 2026-02-11: 本番環境の定義（経路/依存/品質制約/検証方針）を具体化 [[BD-SYS-ADR-018]]
- 2026-02-10: 新規作成
