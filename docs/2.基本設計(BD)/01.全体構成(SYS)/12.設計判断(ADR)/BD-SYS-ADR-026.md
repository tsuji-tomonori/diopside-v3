---
id: BD-SYS-ADR-026
title: テスト戦略をUT/IT/ATの三層品質ゲートで運用する
doc_type: アーキテクチャ決定記録
phase: BD
version: 1.0.0
status: 下書き
owner: RQ-SH-001
created: 2026-02-11
updated: '2026-02-11'
up:
  - '[[RQ-FR-001]]'
  - '[[RQ-DEV-001-01]]'
related:
  - '[[BD-DEV-TEST-001]]'
  - '[[UT-PLAN-001]]'
  - '[[IT-PLAN-001]]'
  - '[[AT-PLAN-001]]'
  - '[[AT-GO-001]]'
tags:
  - diopside
  - BD
  - ADR
---

## 決定事項
- 基本設計の[[BD-DEV-TEST-001|テスト戦略]]は、単体テスト（UT）/結合テスト（IT）/受入テスト（AT）の三層で運用する。
- 各層にエントリ条件と完了条件を設定し、Failを残したまま上位層へ進行しない品質ゲートを適用する。
- 要求保証は「UTで局所妥当性」「ITで連携妥当性」「ATで価値・運用妥当性」の順で段階保証する。
- Go/No-Go判定はAT成果物（[[AT-GO-001]]）を最終入力とし、UT/IT結果を前提証跡として参照する。

## 理由
- テストレベルを明示分離しない運用では、障害原因の切り分けと再実行範囲の決定が遅延しやすい。
- 三層ゲートを採用すると、失敗の早期検出と段階的収束が可能になり、手戻りコストを低減できる。
- 要求判定をATへ集約しつつ、UT/ITで事前に技術的妥当性を担保することで、判定の再現性を高められる。

## 影響
- [[BD-DEV-TEST-001]] を三層戦略の親文書として再構成し、責務境界・接続条件・品質ゲートを明文化する。
- [[UT-PLAN-001]] / [[IT-PLAN-001]] / [[AT-PLAN-001]] を、層間接続前提で参照する運用に統一する。
- 影響確認レポート（`reports/impact_check_2026-02-11.md`）に、[[BD-DEV-TEST-001|テスト戦略]]変更の整合判定を追記する。

## 却下した選択肢
- UT/IT/ATを同列運用し、前段Failを許容する案: 原因切り分けと品質判定が曖昧になるため不採用。
- IT/ATの2層のみを親戦略とする案: 実装単位の局所保証が不足し、欠陥の流出率が上がるため不採用。
- ATのみで最終判定する案: 修正サイクルが長くなり、運用コストが増えるため不採用。

## 変更履歴
- 2026-02-11: 新規作成（UT/IT/AT三層品質ゲートの採用決定） [[BD-SYS-ADR-026]]
