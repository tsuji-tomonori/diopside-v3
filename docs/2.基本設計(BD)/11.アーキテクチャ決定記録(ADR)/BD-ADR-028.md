---
id: BD-ADR-028
title: インフラ文書を本体開発フローへ統合する
doc_type: アーキテクチャ決定記録
phase: BD
version: 1.0.2
status: 下書き
owner: RQ-SH-001
created: 2026-02-13
updated: '2026-02-13'
up:
  - '[[RQ-RDR-039]]'
related:
  - '[[BD-INF-001]]'
  - '[[BD-DEP-005]]'
  - '[[BD-INF-007]]'
  - '[[DD-IAC-001]]'
  - '[[DD-CICD-INF-001]]'
  - '[[BD-TST-001]]'
tags:
  - diopside
  - BD
  - ADR
---

## 決定事項
- インフラ設計をBD/DDへ追加し、インフラ試験をUT/IT/ATへ追加する。
- IaC変更は `cdk synth -> cdk diff -> approve -> cdk deploy -> verify` を必須手順とし、各フェーズの証跡を保持する。
- IaC管理方式はCDKのみを採用し、Terraformを含む別方式は設計標準に採用しない。
- 運用受入ではインフラSLO・DR演習・権限運用を必須判定項目にする。
- AWSサービスの管理対象一覧（個数/構築理由/導入段階/集計除外ルール）はBD文書で正本管理し、配備詳細と同一粒度で維持する。
- API/認証/運用基盤を含むTo-Be設計はAs-Is（docs配信基盤）と明示的に分離し、段階導入の判定点を文書に固定する。

## 理由
- アプリ層のみの品質ゲートでは、配信経路・権限・監視・復旧の不備を捕捉できない。
- インフラ層も同一トレーサビリティで管理することで、変更影響を可視化できる。

## 影響
- `BD-INF-001`〜`BD-INF-007`、`DD-IAC/NET/IAM/OBS/DR/CICD`、`UT/IT/AT-INF` 文書を新設する。
- `RQ-RTM-001/002` を更新し、要求からインフラ試験まで直接追跡可能にする。
- `BD-INF-001` と `BD-DEP-005` でAWSサービス一覧の記載粒度を統一し、設計レビュー時にサービス数と構築理由を即時確認可能にする。

## 変更履歴
- 2026-02-13: CDKオンリー方針（`cdk synth/diff/deploy` 標準フロー、Terraform不採用）を決定事項へ追加 [[BD-ADR-028]]
- 2026-02-13: AWSサービス一覧をBD正本で管理する運用（個数/構築理由/導入段階/除外ルール）を追加 [[BD-ADR-028]]
- 2026-02-13: 新規作成（インフラ文書統合方針の採用） [[BD-ADR-028]]
