---
id: BD-UI-002
title: 検索画面情報設計
doc_type: UI設計
phase: BD
version: 1.0.2
status: 下書き
owner: RQ-SH-001
created: 2026-01-31
updated: '2026-02-11'
up:
- '[[RQ-SC-001]]'
- '[[RQ-FR-001]]'
related:
- '[[BD-ARCH-001]]'
- '[[BD-ADR-001]]'
- '[[BD-ADR-009]]'
- '[[RQ-FR-021]]'
tags:
- diopside
- BD
- UI
---


## 設計方針
- 検索画面では一覧探索の連続性を最優先とし、詳細モーダルで補助情報を重ねても一覧コンテキストを破壊しない。
- `[[RQ-FR-021]]` のワードクラウド表示は詳細モーダル内の補助領域として定義し、主要操作（タグ切替・外部遷移・閉じる）を阻害しない。

## 設計要点
- 詳細モーダルの情報階層は「必須情報（タイトル/メタ）」「操作導線（遷移/コピー/タグ）」「補助情報（タイムスタンプ/ワードクラウド）」の順で構成する。
- ワードクラウドは取得成功時のみ画像表示し、未生成・取得失敗・破損時は専用プレースホルダへ置換する。
- モーダルを閉じた際は一覧の[[RQ-GL-014|検索条件]]・スクロール位置・表示件数を維持する。

## 詳細モーダル表示仕様（ワードクラウド）
- **表示条件**: `videoId` が解決済みで詳細モーダルが開いたときに `wordcloud/{videoId}.png` を取得する。
- **表示位置**: モーダル右カラムの補助情報領域に配置し、タイトル/主要操作より下段に表示する。
- **表示テキスト**: セクション名は「ワードクラウド」とし、補足文で「公開チャット由来の集計結果」を明示する。
- **ローディング状態**: 画像取得中はスケルトンまたは読み込み中表示を出し、操作ボタンは有効のまま維持する。
- **フォールバック状態**:
  - 未生成（404）: 「ワードクラウドは未生成です」を表示。
  - 取得失敗（5xx/通信失敗）: 「取得に失敗しました。再試行してください」を表示。
  - 破損画像: 「画像を表示できませんでした」を表示。
- **再試行導線**: 取得失敗/破損時のみ再試行ボタンを表示し、詳細モーダルを閉じずに再取得できる。

## 変更履歴
- 2026-02-10: 新規作成
- 2026-02-11: `[[RQ-FR-021]]` 対応として詳細モーダルのワードクラウド表示仕様とフォールバック挙動を追加
