---
id: BD-UI-004
title: アクセシビリティ方針
doc_type: UI設計
phase: BD
version: 1.0.4
status: 下書き
owner: RQ-SH-001
created: 2026-01-31
updated: '2026-02-11'
up:
- '[[RQ-SC-001]]'
- '[[RQ-FR-001]]'
related:
- '[[BD-ARCH-001]]'
- '[[BD-ADR-001]]'
- '[[RQ-FR-020]]'
- '[[RQ-FR-021]]'
- '[[RQ-UX-017]]'
tags:
- diopside
- BD
- UI
---


## 設計方針
- 画像を含む補助情報は、非表示時でも利用者が状態を把握できるよう、テキスト代替と操作可能な再試行導線を提供する。
- 詳細モーダル内の新規要素（[[RQ-GL-016|コメント密度波形]]/[[RQ-GL-017|ワードクラウド]]）追加後も、キーボード操作完結性を維持する。

## 設計要点
- [[RQ-GL-016|コメント密度波形]]は視覚情報だけでなく区間リストのテキスト代替を持ち、読み上げ環境でも見どころ導線を利用できるようにする。
- [[RQ-GL-017|ワードクラウド]]画像には用途を説明する代替テキストを付与し、画像が読めない環境でも意味が伝わるようにする。
- 未生成・取得失敗・破損の各状態は視覚表現だけでなく文言でも区別する。
- 再試行ボタンはフォーカス可能とし、キーボード（Tab/Enter）で操作できるようにする。
- [[RQ-UX-017]] に基づき、処理結果通知はフォーカス移動に依存せず支援技術へ通知する。

## [[RQ-GL-016|コメント密度波形]]表示のアクセシビリティ要件
- **テキスト代替**: 波形には「[[RQ-GL-015|盛り上がり区間]]一覧」を併記し、各区間の開始時刻とコメント件数を読み上げ可能にする。
- **キーボード操作**: [[RQ-GL-015|盛り上がり区間]]はTabでフォーカス移動でき、Enterで該当秒遷移できる。
- **状態通知**:
  - 未生成: 「[[RQ-GL-015|盛り上がり区間]]なし」。
  - 取得失敗: 「密度データの取得に失敗しました。再試行してください」。
  - 不正データ: 「波形データを表示できませんでした」。
- **操作継続性**: 波形取得失敗時も「閉じる」「YouTubeで開く」「URLコピー」等の主要操作を無効化しない。

## [[RQ-GL-017|ワードクラウド]]表示のアクセシビリティ要件
- **代替テキスト**: `"<動画タイトル>の公開チャット集計ワードクラウド"` を基本フォーマットとする。
- **状態通知**:
  - 未生成: 「[[RQ-GL-017|ワードクラウド]]は未生成です」。
  - 取得失敗: 「[[RQ-GL-017|ワードクラウド]]の取得に失敗しました。再試行してください」。
  - 破損: 「[[RQ-GL-017|ワードクラウド]]画像を表示できませんでした」。
- **読み上げ順序**: モーダル内で「タイトル→主要操作→[[RQ-GL-017|ワードクラウド]]状態/画像」の順に到達できるタブ順を維持する。
- **操作継続性**: 画像取得失敗時も「閉じる」「YouTubeで開く」「URLコピー」等の主要操作を無効化しない。

## 状態通知（[[RQ-UX-017]]）
- **通知方式**: 成功/失敗/進行中の通知は `role="status"` または `aria-live` を使い、視覚表示と読み上げ通知を同時に成立させる。
- **通知内容**: 通知文は「結果 + 原因 + 次の操作」を1文で示し、再試行可否を明示する。
- **表示時間**: 一時通知は3秒未満で自動消去しない。短時間表示する場合は履歴領域から再確認できるようにする。
- **非ブロッキング**: 通知表示中も一覧復帰・モーダル操作・外部遷移を阻害しない。

## 変更履歴
- 2026-02-10: 新規作成
- 2026-02-11: [[RQ-UX-017]] 対応として状態通知の読み上げ要件（aria-live/通知文構成/再確認導線）を追加 [[BD-ADR-010]]
- 2026-02-11: [[RQ-FR-021]] 対応として[[RQ-GL-017|ワードクラウド]]表示時の代替テキスト/状態通知/キーボード操作要件を追加 [[BD-ADR-009]]
- 2026-02-11: [[RQ-FR-020]] 意味変更に合わせ、[[RQ-GL-016|コメント密度波形]]のテキスト代替とキーボード遷移要件を追加 [[BD-ADR-010]]
