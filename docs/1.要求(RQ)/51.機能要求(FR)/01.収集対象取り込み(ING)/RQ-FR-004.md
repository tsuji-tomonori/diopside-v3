---
id: RQ-FR-004
title: 動画メタデータを正規化できる
doc_type: 機能要求
phase: RQ
version: 1.0.4
status: 下書き
owner: RQ-SH-001
created: 2026-01-31
updated: '2026-02-11'
up:
- '[[RQ-SC-001]]'
- '[[RQ-UC-001]]'
related:
- '[[RQ-RDR-009]]'
- '[[RQ-RDR-028]]'
- '[[BD-API-001]]'
- '[[BD-DATA-001]]'
- '[[BD-UI-001]]'
tags:
- diopside
- RQ
- FR
---


## SnowCard（日本語）
- 要求ID: RQ-FR-004
- 種別: 機能要求
- 優先度: MUST
- 要求: 本システムは、取得した動画メタデータを検索・表示に適した形式へ正規化できることを提供する。
- 根拠: 外部API由来の表記揺れや欠損を統一し、[[RQ-GL-014|検索条件]]と表示項目の一貫性を確保するため。
- 受入基準:
  - 必須属性（動画ID、タイトル、公開日時、チャンネル区分）は欠損なく定義済みフォーマットへ変換される。
  - 任意属性（説明、再生時間、タグ、サムネイル）は欠損可否を区別して保持される。
  - 正規化後データが一覧表示と絞り込みAPIで再利用できる。
- 例外/エラー:
  - 必須項目が欠損する場合は保存時に欠損フラグを付与し、原因を記録する。
  - 任意項目の欠損は欠損理由を保持し、後続補完の対象として識別できる。
  - 形式不正値はデフォルト値へ置換せず検出可能な状態で保持する。
- 依存・関連:
  - [[RQ-UC-001]]
  - [[RQ-RDR-009]]
  - [[BD-API-001]]

## テスト観点
- 日時形式や再生時間形式の異常値が検出され欠損/不正として扱われること。
- 必須属性と任意属性の扱いが分離され、任意欠損が補完対象として識別されること。
- 正規化後の値で一覧表示と[[RQ-GL-014|検索条件]]の双方が成立すること。

## 個別確認チェックリスト
- 確認主体: 管理者
- 重点確認対象: 正規化後メタデータ形式
- 確認方法: 不正値検出ログと正規化結果を突合する。

## 変更履歴
- 2026-02-11: メタデータの必須/任意属性を分離し、欠損時の補完対象識別を追加
- 2026-02-11: 個別レビュー観点を明確化するため、個別確認チェックリストを追記
- 2026-02-11: 定型テンプレート文を廃止し、機能要求ごとの受入基準・例外・テスト観点へ具体化
- 2026-02-10: 新規作成
