---
id: RQ-FR-022
title: タイムスタンプ表示用データを生成できる
doc_type: 機能要求
phase: RQ
version: 1.0.0
status: 下書き
owner: RQ-SH-001
created: 2026-02-11
updated: '2026-02-11'
up:
- '[[RQ-SC-001]]'
- '[[RQ-UC-001]]'
related:
- '[[RQ-RDR-022]]'
- '[[RQ-FR-004]]'
- '[[RQ-FR-020]]'
- '[[BD-API-001]]'
- '[[BD-UI-001]]'
tags:
- diopside
- RQ
- FR
---

## SnowCard（日本語）
- 要求ID: RQ-FR-022
- 種別: 機能要求
- 優先度: MUST
- 要求: 本システムは、動画詳細モーダルのタイムスタンプ表示と該当秒遷移に利用する時刻データを、収集済み公開データから生成・保存できることを提供する。
- 根拠: 表示要求（[[RQ-FR-020]]）だけでは時刻データ生成責務が曖昧になるため、データ整備要求として生成境界を明示する必要があるため。
- 受入基準:
  - 収集対象動画ごとに `mm:ss` または `h:mm:ss` 形式の表示文字列と、遷移用秒数を生成できる。
  - 生成済みデータは動画IDに紐づき、詳細表示APIで再利用できる。
  - 再生成時に同一動画IDの重複行を作らず、最新生成結果へ置換できる。
- 例外/エラー:
  - 時刻解析に失敗した入力は対象行を隔離し、生成失敗理由を記録する。
  - 生成途中で失敗した場合は不完全データを公開せず、前回確定版を保持する。
- 依存・関連:
  - [[RQ-UC-001]]
  - [[RQ-FR-004]]
  - [[RQ-FR-020]]
  - [[RQ-RDR-022]]

## テスト観点
- 同一動画で複数時刻を入力した際に表示文字列と秒数が一貫して生成されること。
- 失敗行隔離時でも成功行データが欠落せず保存されること。
- 再生成時に重複行が増えず最新結果へ置換されること。

## 個別確認チェックリスト
- 確認主体: 管理者
- 重点確認対象: 時刻データ生成形式と再生成整合
- 確認方法: 生成ログと詳細表示API応答を照合し、表示文字列と秒数の一致を確認する。

## 変更履歴
- 2026-02-11: 新規作成
