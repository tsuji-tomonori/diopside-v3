---
id: RQ-FR-009
title: タグ条件で絞り込みできる
doc_type: 機能要求
phase: RQ
version: 1.0.7
status: 下書き
owner: RQ-SH-001
created: 2026-01-31
updated: '2026-02-14'
up:
- '[[RQ-SC-001]]'
- '[[RQ-UC-004]]'
related:
- '[[RQ-RDR-034]]'
- '[[BD-APP-API-001]]'
- '[[BD-APP-DATA-001]]'
- '[[BD-APP-UI-001]]'
bounded_context: Viewing
subdomain: Core
tags:
- diopside
- RQ
- FR
---

## SnowCard（日本語）
- 要求ID: RQ-FR-009
- 種別: 機能要求
- 優先度: MUST
- 要求: 本システムは、[[RQ-SH-002|利用者]]がDB正本から生成された配信[[RQ-GL-005|タグ辞書]]を用いて、タグ条件を指定して動画を絞り込みできることを提供する。
- 根拠: カテゴリ軸で探索できるようにし、キーワード検索と相補的な探索体験を提供するため。
- 受入基準:
  - 複数タグ条件（AND/OR）を指定して結果集合を更新できる。
  - 適用中のタグ条件がUI上で可視化され解除操作ができる。
  - タグ更新の公開切替後、利用者画面のタグ候補は最新 [[RQ-GL-008|tag_master]] を参照して更新される。
- 例外/エラー:
  - 存在しないタグ指定は無視せず入力エラーとして扱い、当該条件を適用せずに修正導線を提示する。
  - 条件競合で0件となる場合は0件理由と条件解除導線を示す。
- 依存・関連:
  - [[RQ-UC-004]]
  - [[RQ-RDR-034]]
  - [[BD-APP-API-001]]

## テスト観点
- 単一タグ・複数タグ・条件解除で結果件数が期待通りに遷移すること。
- 不正タグ指定時に[[RQ-GL-014|検索条件]]が壊れずエラー表示のみ行うこと。
- 配信切替後に旧[[RQ-GL-005|タグ辞書]]との不整合（候補欠落/幽霊タグ）が発生しないこと。

## 個別確認チェックリスト
- 確認主体: [[RQ-SH-002|利用者]]
- 重点確認対象: タグ条件適用と解除操作
- 確認方法: 条件表示と0件時の解除導線を確認する。

## 変更履歴
- 2026-02-14: 要求記述から具体ファイル名を除外し、用語リンク中心の記述へ統一 [[RQ-RDR-042]]
- 2026-02-11: 無効タグ指定時の挙動を「入力エラー + 条件未適用 + 修正導線提示」に統一し、UCとの整合を補強 [[RQ-RDR-034]]
- 2026-02-11: DB正本から生成された[[RQ-GL-005|タグ辞書]]参照と公開切替後更新条件を追加 [[RQ-RDR-034]]
- 2026-02-11: 本文中の主体表現「管理者/利用者」をステークホルダーリンクへ統一 [[RQ-RDR-010]]
- 2026-02-11: 個別レビュー観点を明確化するため、個別確認チェックリストを追記 [[RQ-RDR-010]]
- 2026-02-11: 定型テンプレート文を廃止し、機能要求ごとの受入基準・例外・テスト観点へ具体化 [[RQ-RDR-034]]
- 2026-02-10: 新規作成 [[RQ-RDR-003]]
