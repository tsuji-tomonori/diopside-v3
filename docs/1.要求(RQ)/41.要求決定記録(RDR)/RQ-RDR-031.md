---
id: RQ-RDR-031
title: タグ原本をDBで管理し利用者向けJSONを生成配信する決定
doc_type: 要求決定記録
phase: RQ
version: 1.0.0
status: 下書き
owner: RQ-SH-001
created: 2026-02-11
updated: '2026-02-11'
up:
- '[[RQ-SC-001]]'
related:
- '[[RQ-RDR-003]]'
- '[[RQ-FR-005]]'
- '[[RQ-FR-009]]'
- '[[RQ-UC-004]]'
- '[[RQ-GL-005]]'
- '[[RQ-GL-014]]'
tags:
- diopside
- RQ
- RDR
---

## 決定事項
- [[RQ-GL-005|タグ辞書]]の原本はDBで管理し、追加・更新・無効化は[[RQ-SH-001|管理者]]の管理画面操作を起点に実行する。
- 利用者向けのタグ参照は、DB正本から生成したJSON成果物を読み取る方式を標準とし、利用時点での都度再生成を必須にしない。
- 将来の高度検索（複合条件、全文、チャット欄由来の検索）に備え、検索評価の正本データはDB側で保持し、公開配信はJSONを通じて分離する。

## 理由
- 静的JSONのみを正本にすると、履歴管理、整合性検証、複合検索の条件評価が運用規模拡大時に破綻しやすい。
- DB正本とJSON配信を分離することで、管理者向け更新操作と利用者向け閲覧性能を両立できる。
- 既存の「別ファイル管理」方針（[[RQ-RDR-003]]）の意図を維持しつつ、将来検索要件へ拡張可能なデータ管理境界へ更新できる。

## 影響
- 機能要求: [[RQ-FR-005]] の[[RQ-GL-005|タグ辞書]]更新要求を「DB正本管理 + JSON生成配信」前提へ更新する。
- 機能要求: [[RQ-FR-009]] のタグ条件評価で参照するデータ境界（配信JSON/検索基盤）を明確化する。
- ユースケース/用語: [[RQ-UC-004]]、[[RQ-GL-005]]、[[RQ-GL-014]] の記述を今回方針に合わせて整合させる。

## 変更履歴
- 2026-02-11: 新規作成 [[RQ-RDR-031]]
