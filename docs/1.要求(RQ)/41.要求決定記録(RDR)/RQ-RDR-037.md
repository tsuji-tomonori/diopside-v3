---
id: RQ-RDR-037
title: UT/IT/ATトレース表を経路判定で自動生成する決定
doc_type: 要求決定記録
phase: RQ
version: 1.0.0
status: 下書き
owner: RQ-SH-001
created: 2026-02-11
updated: '2026-02-11'
up:
- '[[RQ-SC-001]]'
related:
- '[[RQ-RDR-033]]'
- '[[RQ-RTM-001]]'
- '[[RQ-RTM-002]]'
- '[[BD-TST-001]]'
- '[[UT-PLAN-001]]'
- '[[IT-PLAN-001]]'
- '[[AT-PLAN-001]]'
tags:
- diopside
- RQ
- RDR
---

## 決定事項
- トレーサビリティ表に、次のテスト層整合表を追加する。
  - 要求（FR/NFR） -> 受入テスト（AT-SCN）
  - 基本設計（BD、ADR除く） -> 結合テスト（IT-CASE）
  - 詳細設計（DD） -> 単体テスト（UT-CASE）
- 判定方式は直接リンクではなく、frontmatter（`up` / `related`）と本文リンク（`[[ID]]`）を含む経路判定を採用する。
- 経路判定の探索深さは `max_depth=4` とし、到達可能なケース/シナリオが1件以上あれば `PASS` とする。
- 計画/報告/運用系文書（PLAN/RPT/OPS/GOなど）は判定対象外とし、補助文書として別列表示する。

## 理由
- 文書運用では直接リンクだけでなく、RDR/ADR/設計本文を経由してテスト計画・ケースへ到達する運用が現実的である。
- 直接リンク限定にすると、既に成立しているUT/IT/ATの追跡性を過小評価し、不要な差分修正を増やす。
- 判定対象と補助文書を分離することで、品質判定（Pass/Fail）と監査証跡（補助参照）を同時に可視化できる。

## 影響
- [[RQ-RTM-002]] にUT/IT/ATトレース表（自動生成ブロック）を追加し、運用手順を明文化する。
- `task docs:trace` の生成スクリプトで、経路判定ベースのPASS/FAILと補助文書列を出力する。
- [[BD-TST-001]] と [[UT-PLAN-001]] / [[IT-PLAN-001]] / [[AT-PLAN-001]] の責務境界を、トレーサビリティ表で継続的に監視できる。

## 変更履歴
- 2026-02-11: 新規作成
