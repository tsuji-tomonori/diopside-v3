---
id: RQ-RDR-028
title: メタデータ取得を3モード分離しPoC参照は要求境界に限定する決定
doc_type: 要求決定記録
phase: RQ
version: 1.0.0
status: 下書き
owner: RQ-SH-001
created: 2026-02-11
updated: '2026-02-11'
up:
- '[[RQ-SC-001]]'
related:
- '[[RQ-FR-001]]'
- '[[RQ-FR-003]]'
- '[[RQ-FR-004]]'
- '[[RQ-FR-019]]'
- '[[RQ-DATA-001]]'
- '[[BD-SYS-ARCH-001]]'
- '[[BD-APP-API-002]]'
- '[[BD-APP-DATA-001]]'
tags:
- diopside
- RQ
- RDR
---

## 決定事項
- メタデータ取得は、業務責務として「公式取り込み」「出演補完取り込み」「差分更新」の3モードへ分離して要件化する。
- 配信前後再確認は [[RQ-FR-019]] の責務として維持し、チャンネル全体の新着差分更新とは要求上で分離する。
- PoC（`.workspace/get-archives-info.zip`）は取得フローと運用観点の参考に限定し、ライブラリ・CLI・ファイル形式などの具体実装は要求へ固定しない。
- コメント本文・チャットログ・字幕本文の恒久保存は採用せず、[[RQ-PC-003]] と [[RQ-PRC-001]] の境界を維持する。

## 理由
- 運用上は「公式巡回」「出演候補補完」「既存データ差分更新」で失敗原因と再実行手順が異なるため、単一要件では[[RQ-GL-012|受入判定]]が曖昧になる。
- PoCは取得成立性の確認には有効だが、そのまま要求化すると実装選択肢を過度に拘束する。
- 取得元区分と更新種別を追跡可能にすることで、品質監査と障害調査を再現しやすくできる。

## 影響
- 機能要求: [[RQ-FR-001]] に3モード起動と更新種別記録を追加する。
- 機能要求: [[RQ-FR-003]] に出演候補補完入力の扱いを追加する。
- 機能要求: [[RQ-FR-004]] に必須/任意属性の分離と補完対象識別を追加する。
- 非機能要求: [[RQ-DATA-001]] に取得元区分・更新種別の追跡記録を追加する。
- 設計: [[BD-APP-API-002]] と [[BD-APP-DATA-001]] でモード契約とデータ層構成を具体化する。

## 変更履歴
- 2026-02-11: 新規作成
