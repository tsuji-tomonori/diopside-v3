---
id: RQ-COST-003
title: ストレージライフサイクル管理
doc_type: 非機能要求
phase: RQ
version: 1.0.0
status: 下書き
owner: RQ-SH-001
created: 2026-02-16
updated: '2026-02-16'
up:
- '[[RQ-SC-001]]'
related:
- '[[RQ-COST-001]]'
- '[[RQ-AV-003]]'
- '[[RQ-OBY-001]]'
tags:
- diopside
- RQ
- COST
---


## SnowCard（日本語）
- 要求ID: RQ-COST-003
- 種別: 非機能要求
- 優先度: SHOULD
- 要求: 本システムは、S3・CloudWatch Logsのライフサイクルルールを設定し、不要データの自動削除でストレージコストを抑制すること。
- 根拠: バージョニングやログの無制限蓄積は [[RQ-COST-001]] の月額上限を圧迫するため、保持期間の明示的管理が必要であるため。
- 受入基準:
  - S3非現行バージョンが30日後に自動削除されるライフサイクルルールが設定されている。
  - CloudWatch Logsの保持期間が30日に設定され、31日目以降は自動削除される。
  - アクセスログの保持期間が90日に設定されている。
  - ライフサイクルルールはCDKで管理され、手動設定に依存しない。
  - 月次でストレージ使用量を確認し、異常な増加傾向がないことを検証する。
- 例外/エラー:
  - 障害調査のためにログ保持期間の延長が必要な場合は、対象ロググループのみ一時的に延長し、調査完了後に元に戻す。
  - ライフサイクルルールの誤設定で必要なデータが削除された場合は、[[RQ-AV-003]] のバックアップからリストアする。
- 依存・関連:
  - [[RQ-COST-001]]
  - [[RQ-AV-003]]
  - [[RQ-OBY-001]]

## 変更履歴
- 2026-02-16: 新規作成
