---
id: RQ-SUS-002
title: データ転送・ストレージ最適化
doc_type: 非機能要求
phase: RQ
version: 1.0.1
status: 下書き
owner: RQ-SH-001
created: 2026-02-16
updated: '2026-02-19'
up:
- '[[RQ-SC-001]]'
related:
- '[[RQ-SUS-001]]'
- '[[RQ-COST-001]]'
- '[[RQ-PS-003]]'
- '[[RQ-RDR-047]]'
tags:
- diopside
- RQ
- SUS
---


## SnowCard（日本語）
- 要求ID: RQ-SUS-002
- 種別: 非機能要求
- 優先度: SHOULD
- 要求: 本システムは、CloudFront圧縮・適切なキャッシュ制御・冗長コピー禁止により、データ転送量とストレージ使用量を最適化すること。
- 根拠: 不要な転送とストレージはコスト増とエネルギー消費を招き、[[RQ-COST-001]] の予算制約と持続可能な運用に反するため。
- 受入基準:
  - CloudFrontでgzip/brotli圧縮が有効化されている。
  - 静的配信JSONに適切な `Cache-Control` ヘッダーが設定され、不要な再取得を抑制する。
  - 同一データの冗長コピー（S3バケット間の不要な複製等）が0件である。
  - 月次で `CloudFront転送量(GB) / 配信成果物サイズ(GB)` を算出し、直近3か月移動平均比で ±20% 以内を維持する。
  - 転送量の急増（前月比200%超）を検知した場合はアラートを発報する。
- 例外/エラー:
  - キャッシュ無効化（invalidation）が必要なデプロイ時は一時的に転送量が増加するが、通常運用の範囲として許容する。
  - 障害復旧のためにデータの一時的な冗長コピーが必要な場合は、復旧完了後に削除する。
- 依存・関連:
  - [[RQ-SUS-001]]
  - [[RQ-COST-001]]
  - [[RQ-PS-003]]
  - [[RQ-COST-003]]

## 変更履歴
- 2026-02-19: 受入基準の「比例的」表現を定量指標へ置換 [[RQ-RDR-047]]
- 2026-02-16: 新規作成
