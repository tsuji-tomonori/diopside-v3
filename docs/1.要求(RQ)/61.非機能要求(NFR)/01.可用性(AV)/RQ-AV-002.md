---
id: RQ-AV-002
title: グレースフルデグラデーション
doc_type: 非機能要求
phase: RQ
version: 1.0.0
status: 下書き
owner: RQ-SH-001
created: 2026-02-16
updated: '2026-02-16'
up:
- '[[RQ-SC-001]]'
related:
- '[[RQ-AV-001]]'
- '[[RQ-DATA-001]]'
tags:
- diopside
- RQ
- AV
---


## SnowCard（日本語）
- 要求ID: RQ-AV-002
- 種別: 非機能要求
- 優先度: SHOULD
- 要求: 本システムは、バッチ障害時もSPAが最終配信データで検索を継続可能とし、データ鮮度を[[RQ-SH-002|利用者]]に明示すること。
- 根拠: 収集バッチの障害が即座に検索不能へ直結しない設計とし、[[RQ-AV-001]] の可用率要件達成を補強するため。
- 受入基準:
  - 収集バッチが失敗しても、SPAは直前に配信済みの静的JSONで検索・一覧機能を提供し続ける。
  - SPAの画面上に「最終更新日時」が表示され、[[RQ-SH-002|利用者]]がデータの鮮度を確認できる。
  - バッチ障害が24時間以上継続した場合、SPAに鮮度警告が表示される。
  - CloudFrontのカスタムエラーページが設定され、オリジン障害時に適切なフォールバックを返す。
- 例外/エラー:
  - 初回デプロイ前（配信データが一切存在しない状態）では、検索機能は利用不可となりメンテナンスページを表示する。
  - S3バケット自体が利用不能な場合は、CloudFrontのキャッシュ期間内のみ継続提供可能とする。
- 依存・関連:
  - [[RQ-AV-001]]
  - [[RQ-AV-004]]
  - [[RQ-DATA-001]]

## 変更履歴
- 2026-02-16: 新規作成
