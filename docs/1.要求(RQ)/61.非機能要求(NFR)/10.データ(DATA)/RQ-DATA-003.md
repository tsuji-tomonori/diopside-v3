---
id: RQ-DATA-003
title: メタデータ辞書と値域定義
doc_type: 非機能要求
phase: RQ
version: 1.0.0
status: 下書き
owner: RQ-SH-001
created: 2026-02-16
updated: '2026-02-16'
up:
- '[[RQ-SC-001]]'
related:
- '[[RQ-DATA-001]]'
- '[[RQ-INT-001]]'
- '[[RQ-DEV-003]]'
tags:
- diopside
- RQ
- DATA
---


## SnowCard（日本語）
- 要求ID: RQ-DATA-003
- 種別: 非機能要求
- 優先度: SHOULD
- 要求: 本システムは、配信JSON（`bootstrap`/`archive_index`/`tag_master`）の全フィールド定義・型・許容値をメタデータ辞書として管理し、JSONスキーマと連動させること。
- 根拠: フィールド定義の暗黙知化は契約破壊の検知遅延を招き、[[RQ-INT-001]] と [[RQ-DATA-001]] の品質要件維持を困難にするため。
- 受入基準:
  - 配信JSONの全フィールドについて、フィールド名・データ型・必須/任意・許容値域・説明がメタデータ辞書に記載されている。
  - メタデータ辞書と `contracts/` 配下のJSONスキーマファイルが整合している。
  - 新規フィールド追加時にメタデータ辞書とJSONスキーマが同一変更で更新される。
  - メタデータ辞書に記載のないフィールドが配信JSONに0件である。
- 例外/エラー:
  - JSONスキーマとメタデータ辞書の不整合を検知した場合は、次回デプロイまでに是正する。
  - 過渡期で非推奨フィールドが残存する場合は、メタデータ辞書に廃止予定日を明記する。
- 依存・関連:
  - [[RQ-DATA-001]]
  - [[RQ-INT-001]]
  - [[RQ-DEV-003]]

## 変更履歴
- 2026-02-16: 新規作成
