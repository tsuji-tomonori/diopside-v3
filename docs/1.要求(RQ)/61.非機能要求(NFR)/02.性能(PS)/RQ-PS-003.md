---
id: RQ-PS-003
title: 配信JSONペイロードサイズ上限
doc_type: 非機能要求
phase: RQ
version: 1.0.0
status: 下書き
owner: RQ-SH-001
created: 2026-02-16
updated: '2026-02-16'
up:
- '[[RQ-SC-001]]'
related:
- '[[RQ-PS-001]]'
- '[[RQ-INT-001]]'
- '[[RQ-SUS-002]]'
tags:
- diopside
- RQ
- PS
---


## SnowCard（日本語）
- 要求ID: RQ-PS-003
- 種別: 非機能要求
- 優先度: SHOULD
- 要求: 本システムの配信JSONペイロードにサイズ上限を設け、モバイル端末のメモリ保護とネットワーク効率を確保すること。
- 根拠: ペイロードの肥大化はモバイル端末のメモリ不足やLCP劣化を招き、[[RQ-PS-001]] の性能要件違反に直結するため。
- 受入基準:
  - `bootstrap` JSONのサイズが圧縮前500KB以下である。
  - `archive_index` の1ページあたりのJSONサイズが圧縮前2MB以下である。
  - `tag_master` JSONのサイズが圧縮前300KB以下である。
  - 配信生成時にサイズを計測し、閾値超過時はビルドを警告付きで完了する。
  - サイズ計測結果を [[RQ-OBY-001]] のメトリクスとして記録する。
- 例外/エラー:
  - データ増加により閾値を超過した場合は、ページネーション粒度の見直しまたは不要フィールドの除外で対応する。
  - 一時的な超過（閾値の120%以内）は警告として扱い、次回配信生成までに是正する。
- 依存・関連:
  - [[RQ-PS-001]]
  - [[RQ-INT-001]]
  - [[RQ-SUS-002]]

## 変更履歴
- 2026-02-16: 新規作成
