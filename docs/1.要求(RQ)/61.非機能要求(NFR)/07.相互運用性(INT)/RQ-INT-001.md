---
id: RQ-INT-001
title: 相互運用性要件
doc_type: 非機能要求
phase: RQ
version: 1.0.4
status: 下書き
owner: RQ-SH-001
created: 2026-01-31
updated: '2026-02-11'
up:
- '[[RQ-SC-001]]'
related:
- '[[RQ-RDR-023]]'
- '[[RQ-RDR-017]]'
- '[[RQ-RDR-026]]'
- '[[BD-API-001]]'
- '[[BD-API-004]]'
- '[[DD-API-001]]'
- '[[DD-API-010]]'
- '[[AT-SCN-004]]'
tags:
- diopside
- RQ
- INT
---


## SnowCard（日本語）
- 要求ID: RQ-INT-001
- 種別: 非機能要求
- 優先度: MUST
- 要求: 本システムは、外部連携を前提としたデータ契約（JSON構造、ID形式、日時形式）の互換性を維持すること。
- 根拠: 収集処理・配信処理・フロント表示の責務分離を維持し、契約破壊による配信停止を防ぐため。
- 受入基準:
  - 配信JSON（`bootstrap/tag_master/archive_index`）の必須キー欠落率を 0% とする。
  - 日時は ISO 8601（UTC）形式、IDは仕様で定義した文字種のみを使用し、形式不一致を 0件とする。
  - 後方互換性を破る変更は事前告知期間 14日以上を設け、旧形式を並行提供する。
  - 14日並行提供は必須キーの削除・型変更・意味変更に適用し、任意キー追加のみの変更は事前告知で代替できる。
  - 契約変更時は `[[DD-API-001]]` と `[[AT-SCN-004]]` の検証項目を同一変更で更新する。
  - API版と仕様版は `'/api/v1/*'` と `'/openapi/v1/openapi.json'` の対応を維持し、版不一致を0件とする。
- 例外/エラー:
  - 契約破壊を検知した場合は新配信を停止し、互換モードまたは前版へ切り戻す。
  - 外部仕様変更が原因の不整合は、影響APIを明示して一時的な変換層で吸収する。
- 依存・関連:
  - [[RQ-RDR-017]]
  - [[BD-API-001]]
  - [[DD-API-001]]

## 変更履歴
- 2026-02-11: API版とOpenAPI版のURL対応（`/api/v1` と `/openapi/v1`）を受入基準へ追加
- 2026-02-10: 新規作成
- 2026-02-11: データ契約/形式互換/告知期間の受入閾値を追加し、テンプレート記述を具体化
- 2026-02-11: 並行提供の適用条件を明確化し運用コスト判断基準を追加
