---
id: RQ-DM-007
title: 検索条件モデル
doc_type: ドメインモデル
phase: RQ
version: 1.0.5
status: 下書き
owner: RQ-SH-001
created: 2026-01-31
updated: '2026-02-14'
up:
- '[[RQ-SC-001]]'
related: []
tags:
- diopside
- RQ
- DM
---


## モデルの目的
- [[RQ-GL-014|検索条件]]モデルは、[[RQ-SH-002|利用者]]が動画を探す際に指定する条件セットを表す。
- 条件語彙の定義は [[RQ-GL-014|検索条件]] を正本とする。

## 要素・属性
- キーワード条件、タグ条件、公開日条件、再生時間条件を持つ。
- 並び順やページングなど、一覧表示の見せ方に関する条件を持つ。
- 条件適用時の結果件数や評価時点など、結果解釈に必要な情報を持つ。

## 制約・業務ルール
- 公開日範囲と再生時間範囲は、開始と終了の関係が矛盾しないこと。
- 条件の意味と組み合わせ規則は [[RQ-GL-014|検索条件]] で定義した内容と一致すること。
- 同一条件を同一データ時点で評価した場合、同じ結果解釈になること。
- 条件項目の意味は利用者UIと説明文で一致していること。
- どの[[RQ-GL-002|収集実行]]結果を前提に検索したかを辿れること。

## 集約境界/集約ルート
- 集約名: [[RQ-GL-006|アーカイブ索引カタログ]]集約
- 集約ルート: [[RQ-GL-006|アーカイブ索引カタログ]]（`archive_index_catalog`）
- 境界に含む要素: ページング済み索引（[[RQ-GL-009|アーカイブ索引]]）、[[RQ-GL-014|検索条件]]、並び順、評価時点情報
- 境界外との契約: [[RQ-GL-002|収集実行]]集約（[[RQ-DM-005]]）から索引更新の由来を受け取り、動画集約（[[RQ-DM-001]]）へは検索結果に必要な参照情報のみを返す

## 関連
- タグエンティティ（[[RQ-DM-003]]）および[[RQ-GL-013|タグ種別]]エンティティ（[[RQ-DM-004]]）と関連し、絞り込み条件を構成する。
- 動画エンティティ（[[RQ-DM-001]]）と関連し、抽出対象を定義する。
- [[RQ-GL-002|収集実行]]エンティティ（[[RQ-DM-005]]）と関連し、検索評価時点のデータ版を説明する。

## 変更履歴
- 2026-02-14: 用語参照を「[[RQ-GL-002|収集実行]]」へ統一し、[[RQ-GL-006|アーカイブ索引カタログ]]集約の集約境界/集約ルートを明記 [[RQ-RDR-040]]
- 2026-02-11: 本文中の主体表現「管理者/利用者」をステークホルダーリンクへ統一 [[RQ-RDR-010]]
- 2026-02-10: [[RQ-GL-014|検索条件]] を正本参照として追加
- 2026-02-10: 関連節の文書ID参照をObsidianリンクへ統一
- 2026-02-10: ドメイン目線へ再整理（要素・制約・関連を日本語で再記述、実装寄り項目を削除）
- 2026-02-10: モデル定義を具体化（検索属性、評価属性、再現性条件を追加）
- 2026-02-10: 新規作成
