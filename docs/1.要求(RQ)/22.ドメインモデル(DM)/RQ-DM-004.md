---
id: RQ-DM-004
title: タグ種別エンティティ
doc_type: ドメインモデル
phase: RQ
version: 1.0.5
status: 下書き
owner: RQ-SH-001
created: 2026-01-31
updated: '2026-02-14'
up:
- '[[RQ-SC-001]]'
related: []
tags:
- diopside
- RQ
- DM
---


## モデルの目的
- [[RQ-GL-013|タグ種別]]エンティティは、タグを[[RQ-SH-002|利用者]]にどの単位で見せるかを定義する分類軸である。
- 本モデルで扱う種別語彙は [[RQ-GL-013|タグ種別]] を正本とする。

## 要素・属性
- 種別名、表示順、選択ルール（単一選択か複数選択か）を持つ。
- 検索体験上の必須性（入力必須か任意か）を持つ。
- 画面表示とデータ配信で共通に使える分類定義を持つ。

## 制約・業務ルール
- 表示順は[[RQ-SH-002|利用者]]にとって一意に解釈できる順序であること。
- 必須扱いの種別は[[RQ-GL-005|タグ辞書]]上で欠落しないこと。
- 実際の種別集合は [[RQ-GL-013|タグ種別]] で定義された内容と一致すること。
- 種別定義の変更は既存タグと検索結果の意味を崩さないこと。
- どの[[RQ-GL-002|収集実行]]結果に基づく種別定義かを辿れること。

## 集約境界/集約ルート
- 集約名: [[RQ-GL-005|タグ辞書]]集約
- 集約ルート: [[RQ-GL-013|タグ種別]]エンティティ（[[RQ-DM-004]]）
- 境界に含む要素: 種別定義（種別名、表示順、選択ルール、必須性）と配下タグ（[[RQ-DM-003]]）
- 境界外との契約: [[RQ-GL-002|収集実行]]集約（[[RQ-DM-005]]）とは更新由来情報で接続し、[[RQ-GL-014|検索条件]]モデル（[[RQ-DM-007]]）へは種別語彙を公開する

## 関連
- タグエンティティ（[[RQ-DM-003]]）を内包する上位分類として関連する。
- [[RQ-GL-014|検索条件]]モデル（[[RQ-DM-007]]）と関連し、検索UIの条件構成に使われる。
- [[RQ-GL-002|収集実行]]エンティティ（[[RQ-DM-005]]）と関連し、定義更新の由来を説明する。

## 変更履歴
- 2026-02-14: 用語参照を「[[RQ-GL-002|収集実行]]」へ統一し、[[RQ-GL-005|タグ辞書]]集約の集約境界/集約ルートを明記 [[RQ-RDR-040]]
- 2026-02-11: 本文中の主体表現「管理者/利用者」をステークホルダーリンクへ統一 [[RQ-RDR-010]]
- 2026-02-10: [[RQ-GL-013|タグ種別]] を正本参照として追加
- 2026-02-10: 関連節の文書ID参照をObsidianリンクへ統一
- 2026-02-10: ドメイン目線へ再整理（要素・制約・関連を日本語で再記述、実装寄り項目を削除）
- 2026-02-10: モデル定義を具体化（属性、UI制約、整合条件を追加）
- 2026-02-10: 新規作成
