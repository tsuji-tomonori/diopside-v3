---
id: RQ-DM-009
title: ワードクラウド成果物モデル
doc_type: ドメインモデル
phase: RQ
version: 1.0.1
status: 下書き
owner: RQ-SH-001
created: 2026-02-11
updated: '2026-02-14'
up:
- '[[RQ-SC-001]]'
related:
- '[[RQ-GL-017]]'
- '[[RQ-FR-021]]'
- '[[RQ-FR-023]]'
tags:
- diopside
- RQ
- DM
---

## モデルの目的
- [[RQ-GL-017|ワードクラウド]]成果物モデルは、動画詳細で表示する[[RQ-GL-017|ワードクラウド]]画像の生成・保存・参照状態を表す。

## 要素・属性
- 対象動画を識別する動画IDを持つ。
- 生成成果物の参照先（画像パス/形式）を持つ。
- 生成状態（生成済み/未生成/生成失敗）と更新時刻を持つ。
- 再生成置換の整合確認に使う生成版情報を持つ。

## 制約・業務ルール
- 同一動画IDに対して有効な成果物参照は1つであること。
- 再生成時は古い成果物を置換し、参照先の一意性を維持すること。
- 生成失敗時は破損成果物を公開領域へ出さず、未生成または失敗状態で扱うこと。
- 入力由来は公開チャット由来の集計結果に限定し、チャット本文そのものを保持しないこと。

## 集約境界/集約ルート
- 集約名: 動画集約（境界内要素）
- 集約ルート: [[RQ-DM-001|動画エンティティ]]（[[RQ-DM-001]]）
- 境界に含む要素: 対象動画ID、成果物参照先、生成状態、更新時刻、生成版情報
- 境界外との契約: [[RQ-GL-002|収集実行]]集約（[[RQ-DM-005]]）から生成由来を受け取り、動画詳細表示に必要な成果物参照のみを公開する

## 関連
- [[RQ-DM-001|動画エンティティ]]（[[RQ-DM-001]]）と関連し、動画[[DD-APP-UI-004|詳細モーダル]]の表示対象を構成する。
- [[RQ-GL-002|収集実行]]エンティティ（[[RQ-DM-005]]）と関連し、どの実行に紐づく生成かを説明する。
- [[RQ-DM-006|収集イベントエンティティ]]（[[RQ-DM-006]]）と関連し、未生成/失敗理由と再試行対象を説明する。

## 変更履歴
- 2026-02-14: 動画集約における集約境界/集約ルートを明記 [[RQ-RDR-040]]
- 2026-02-11: 新規作成
