% Japanese line breaking for XeTeX (prevents CJK overflow)
\XeTeXlinebreaklocale "ja"
\XeTeXlinebreakskip = 0pt plus 1pt

% Improve line breaking for long English tokens/URLs
\usepackage{url}
\usepackage{xurl}
% Allow more stretch to avoid overfull hboxes
\emergencystretch=2em
\sloppy

% Better wrapping in code blocks generated by Pandoc
\usepackage{fvextra}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{breaklines,breakanywhere,commandchars=\\\{\}}

% Narrower page margins for compact PDF layout
\usepackage[margin=18mm]{geometry}

% Make PDF links clickable and visible (subtle)
\AtBeginDocument{%
  \hypersetup{%
    colorlinks=true,%
    linkcolor=blue,%
    urlcolor=blue,%
    citecolor=blue%
  }%
}
