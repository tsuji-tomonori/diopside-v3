---
name: wcag22aa-scope
description: WCAG 2.2 AA相当のスコープ定義・達成基準マッピング・DoD（受入基準）を作る
compatibility: opencode
metadata:
  standard: WCAG-2.2
  level: AA
  lang: ja
  area: scope-dod
---

# wcag22aa-scope

## 目的
WCAG 2.2（適合レベルAA）相当のアクセシビリティ要件を、実装・テスト・運用まで一貫して扱えるように、**スコープ（対象範囲）**と**受入基準（Definition of Done / 受入条件）**を定義します。
クラウド前提のアプリ開発（CI/CD、SaaS連携、認証基盤、CDN/エッジ、監視）で発生しがちな “抜け漏れ” を抑えることを狙います。

## このスキルを使う条件
- プロダクト/機能の新規立ち上げや大規模改修で、WCAG 2.2 AA相当の**対象範囲と受入条件を先に固定**したいとき
- 複数チーム（PdM/Design/FE/QA/SRE）で、画面単位ではなく**導線単位の共通DoD**を合意したいとき
- 認証、外部ウィジェット、SaaS埋め込みを含み、責務分界を文書化しないと監査説明が難しいとき

## このスキルを使わない条件
- 単一画面の実装修正のみで、既存のスコープ定義とDoDがすでに承認済みのとき
- 個別の不具合修正（例: コントラスト1件、ラベル漏れ1件）で、達成基準の再マッピングが不要なとき
- AAA達成を目的にした監査計画を主タスクとする場合（本スキルはA+AA相当を対象）

## 出力契約
- 最低出力は「対象範囲」「達成基準マッピング」「DoD」「例外一覧」の4点を揃える
- 各成果物は、対象画面/導線・適用する達成基準番号・判定方法（自動/手動）・担当責務が追跡できる形式で記述する
- 例外は「根拠」「代替策」「見直し期限」を必須とし、期限未設定の例外は完了扱いにしない

## 対象となる達成基準（WCAG 2.2）
- 本スキルは「**レベルAA相当**」として、**A + AA** を対象にする前提で進めます（AAAは任意）。
- 新規追加（WCAG 2.2）のうち、AA/Aに関係するものを必ずスコープに含めます:
  - 2.4.11 Focus Not Obscured (Minimum)（AA）
  - 2.5.7 Dragging Movements（AA）
  - 2.5.8 Target Size (Minimum)（AA）
  - 3.2.6 Consistent Help（A）
  - 3.3.7 Redundant Entry（A）
  - 3.3.8 Accessible Authentication (Minimum)（AA）

## 入力として必要な情報（不足があれば確認する）
- 対象プロダクト/アプリの種別（Web SPA / サーバレンダリング / モバイルWeb / ネイティブ等）
- 対象ユーザー、主要ユースケース、主要画面（ユーザーフロー）
- 認証方式（IdP/SSO、MFA、CAPTCHA有無、パスワードレス等）
- UIコンポーネント基盤（デザインシステム、UIライブラリ）
- コンテンツ種別（画像、動画、PDF、メール、通知）
- 運用形態（リリース頻度、A/Bテスト、Feature Flag、SaaS埋め込み、外部ウィジェット）

## 手順（スコープ→マッピング→DoDの順で作る）
### 1) 対象範囲を確定する（スコープ定義）
- **対象**: 画面、状態（ログイン前/後、エラー/空状態/ローディング）、主要導線、メール/ダウンロード資料、サードパーティUI（埋め込み含む）
- **対象外（例）**: 管理者のみ・社内限定画面など、対象外とする根拠を必ず明記（契約/法令/社内方針に依存）
- **プラットフォーム**: ブラウザ（Chrome/Edge/Safari）、OS（Windows/macOS/iOS/Android）を最小セットで定義

### 2) 画面・機能→達成基準マッピングを作る
- ユースケース/画面ごとに、関連する達成基準を紐付けます。
- “横断的に効く” 項目（例: キーボード操作、フォーカス可視化、コントラスト、ラベル/名前）は **全画面共通** として先に置き、例外だけ注記します。
- 変更頻度の高いコンポーネント（ボタン、モーダル、メニュー、フォーム）を優先し、デザインシステムに吸収させます。

### 3) DoD（受入基準）を定義する
下記を**必須のDoD**としてプロジェクト合意します。

**A. 実装DoD**
- 主要導線の全UI操作がキーボードのみで完結する（Tab/Shift+Tab/Enter/Space/矢印等）
- フォーカスが常に視認でき、固定ヘッダ/モーダル等により完全に隠れない
- クリック/タップターゲットが 24×24 CSS px 以上、または十分な間隔（例外適用は根拠とともに記録）
- ドラッグが必要な操作に代替手段（ボタン、キーボード操作等）がある
- 認証で「記憶/解読/転記」を強制しない（パスワードマネージャ、コピペ、代替手段）
- エラー/状態変化が支援技術にも伝わる（例: ARIAライブ、適切なフォーカス移動）

**B. 検証DoD（自動 + 手動）**
- CIでアクセシビリティ自動検査（lint/axe等）の実行と、失敗時のゲート
- 手動検証（キーボード、ズーム、画面リーダー）をリリース前チェックに組み込む
- バグは再現手順・期待結果・達成基準・影響範囲・修正方針が揃っている

**C. 証跡（監査/説明責任）**
- 対象範囲、例外、検証結果（スクリーンショット/ログ/レポート）を保存
- サードパーティ（IdP/決済/チャット等）のアクセシビリティ責務分界を明記

## 成果物（このスキルのアウトプット）
- アクセシビリティ対象範囲（スコープ）ドキュメント
- 画面/コンポーネント→達成基準マッピング表
- DoD（受入基準）チェックリスト（自動/手動）
- 例外一覧（根拠・代替策・期限つき見直し）

## よくある落とし穴
- “主要導線だけ” で、**エラー/空/ローディング/モーダル内**を検証対象から外してしまう
- デザインシステムでの担保がなく、画面ごとに対応がバラつく
- 認証や第三者ウィジェットを「ベンダー任せ」にして、責務分界が不明確
