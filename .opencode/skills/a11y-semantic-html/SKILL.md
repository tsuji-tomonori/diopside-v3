---
name: a11y-semantic-html
description: HTMLセマンティクス/ARIA/アクセシブルネームでWCAG 2.2 AA相当の構造とName/Role/Valueを実装する
compatibility: opencode
metadata:
  standard: WCAG-2.2
  level: AA
  lang: ja
  area: semantic-aria
---

# a11y-semantic-html

## 目的
HTMLのセマンティクスとARIAを正しく用いて、支援技術（スクリーンリーダー等）に対して **Name/Role/Value** とページ構造を正確に提供できる実装にします。
「div/spanのクリック要素」「ラベル欠落」「見出し構造崩れ」「不適切なARIA」によるアクセシビリティ欠陥を、デザインシステム/コンポーネント層で抑えます。

## 対象となる達成基準（WCAG 2.2）
- 1.1.1 非テキストコンテンツ（A）
- 1.3.1 情報及び関係性（A）
- 1.3.2 意味のある順序（A）
- 1.3.5 入力目的の特定（AA）
- 2.4.1 ブロックスキップ（A）
- 2.4.2 ページタイトル（A）
- 2.4.6 見出し及びラベル（AA）
- 4.1.2 名前 (Name), 役割 (Role), 値 (Value)（A）
- （関連）2.5.3 ラベルを名前に含める（A）

## 入力として必要な情報
- 対象画面/コンポーネント（ボタン、リンク、メニュー、モーダル、タブ、トグル等）
- 使用フレームワーク/テンプレート（React/Vue/Angular、SSR/CSR）
- デザインシステムの有無と、コンポーネントの責務（UI基盤で担保するか画面で担保するか）

## 実施手順（実装/レビュー時のチェック観点）
### 1) まず「ネイティブ要素」で実装できないか検討
- クリック可能: `button` / `a` / `input` を優先し、`div`/`span` で代替しない
- フォーム部品: `label` + `input/select/textarea` の組を基本とする
- リスト: `ul/ol/li`、表: `table/th/td`、見出し: `h1-h6` を適切に

> 原則: ネイティブ要素で満たせるならARIAを足さない（“No ARIA is better than bad ARIA”）。

### 2) アクセシブルネーム（Accessible Name）を必ず提供する
- ボタン/リンク等の操作要素は、**支援技術が読める名前**が必要
- 優先順位（代表例）:
  1. 目に見えるテキスト（子要素テキスト）
  2. `aria-label`
  3. `aria-labelledby`
  4. 画像の場合 `alt`（`img`）/ `title`（補助的）

**実装方針**
- 画面上にラベルがある場合: そのラベル文字列と**一致**させる（2.5.3に寄与）
- アイコンボタン:
  - 意味がある: `aria-label="閉じる"` 等を付与
  - 装飾のみ: `aria-hidden="true"`（かつフォーカス不可）にし、名前に含めない

### 3) 画像・アイコン・SVGの扱い
- `img` の `alt`:
  - 情報を伝える: 内容を短く具体的に
  - 装飾: `alt=""`（空）で無視させる
- `svg`:
  - 操作要素の一部なら、ボタン側でアクセシブルネームを持つ（svg単体に任せない）
  - 単独で意味を持つなら、`<title>` と `aria-labelledby` を検討

### 4) ページ構造（ランドマーク/見出し/タイトル）を整備する
- `title`（ブラウザタブ）をページ内容に一致させる（2.4.2）
- ランドマーク: `header` / `nav` / `main` / `footer` を適切に
- 見出し:
  - `h1` は原則1つ（例外はチーム規約に従う）
  - 階層を飛ばさない（`h2` の次に `h4` 等を避ける）
- スキップリンク:
  - “本文へスキップ” を `main` へ飛ばす（2.4.1）

### 5) ARIAの適用は「役割・状態・関係」を満たすために最小限で
- `role` を付けるなら、キーボード操作・状態更新・属性整合までセットで実装する
- `aria-expanded`, `aria-pressed`, `aria-selected` 等は **状態と同期**させる
- `aria-controls` や `aria-describedby` は参照先IDの一貫性を保つ
- 禁止/要注意:
  - フォーカス可能要素に `aria-hidden="true"` を付けない
  - `role="button"` にして `Enter/Space` を実装しない（キーボード非対応になる）

## 受入基準 / Definition of Done
- 操作要素（ボタン/リンク/入力等）に、支援技術が読み上げる一意な名前がある
- ロール（役割）が適切で、状態属性がUIと同期している
- 見出し階層・ランドマークが画面構造を表現している
- `div`/`span` の疑似ボタン・疑似リンクを避け、やむを得ない場合はキーボード/ARIAを含めて完全実装している
- 画像/アイコンの `alt`/アクセシブルネーム方針が一貫している

## 例（最低限のパターン）
### アイコンだけの閉じるボタン（良い例）
- 見た目: × アイコン
- 実装: `button` + `aria-label="閉じる"`

### ラベル付き入力（良い例）
- `label` が `for` で `input` と紐付く、または `input` を `label` が内包する
- 入力目的に応じて `autocomplete` を付与（例: `email`, `username`）

## よくある落とし穴
- 目に見える文言と `aria-label` が不一致で混乱を招く（2.5.3違反になり得る）
- 見出しを装飾目的で使い、構造が破綻する
- ARIAの付与だけで満足し、キーボード操作・状態同期が未実装
