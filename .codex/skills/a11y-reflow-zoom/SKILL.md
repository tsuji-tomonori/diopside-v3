---
name: a11y-reflow-zoom
description: ズーム/リフロー/画面向き/ホバーUIの要件を満たし、320px幅や200%ズームでも破綻しないUIにする
compatibility: opencode
metadata:
  standard: WCAG-2.2
  level: AA
  lang: ja
  area: reflow-zoom
---

# a11y-reflow-zoom

## 目的
拡大・縮小・リフロー・画面向き変更に対してUIが破綻しないようにし、低視力やモバイル利用時の操作性を担保します。  
クラウドWebアプリでよくある「200%ズームで横スクロール」「固定ヘッダで本文が欠ける」「ホバー依存UIで触れない」を防止します。

## 対象となる達成基準（WCAG 2.2）
- 1.4.4 テキストのサイズ変更（AA）
- 1.4.10 リフロー（AA）
- 1.3.4 方向（AA）
- 1.4.12 テキストの間隔（AA）
- 1.4.13 ホバー又はフォーカス時のコンテンツ（AA）
- （関連）2.4.11 Focus Not Obscured (Minimum)（AA）

## 入力として必要な情報
- 対象画面（最小幅・複雑レイアウト・表・ダッシュボード等）
- レスポンシブ方針（ブレークポイント、コンテナクエリ等）
- 固定要素（固定ヘッダ/フッタ、サイドバー、sticky要素）
- ホバーで出るUI（ツールチップ、メガメニュー、ヘルプ等）

## 実施手順
### 1) 200%ズーム/320px幅で“横スクロール無し”を基本にする（1.4.10）
- 主要導線で横スクロールが発生しない（例外: データ表など、代替UIがある場合）
- `vw` 固定や絶対配置でレイアウトが崩れる箇所を修正
- 長い文字列（メール、URL、トークン、見出し）が折返せる（`overflow-wrap` 等）

### 2) テキストの拡大（1.4.4）に耐える
- ブラウザ文字サイズ変更やズームで、情報欠落・操作不能にならない
- ボタンやチップの高さが固定で文字が切れる場合、`min-height` やパディング設計に変更

### 3) 方向（1.3.4）に依存しない
- 特定の向き（横向き固定等）を強制しない
- どうしても必要な場合は、必要性の根拠と代替提供を検討

### 4) テキスト間隔（1.4.12）で破綻しない
- 行間・字間・段落間を拡げたときに、要素が重なったり操作不能にならない
- クリティカルUI（フォーム、ボタン、表、カード）を優先して確認

### 5) ホバー/フォーカスで出るコンテンツ（1.4.13）を制御可能に
- ツールチップ等は
  - 解除できる（Dismissible）
  - ポインターが乗っている間は保持できる（Hoverable）
  - 内容が消えず読める（Persistent）  
  を満たすよう設計
- キーボードフォーカス時にも同等に情報が得られるようにする

## 受入基準 / Definition of Done
- 主要導線が 200%ズームまたは狭幅（320px相当）でも操作可能
- テキスト切れ・要素重なり・操作不能がない
- ホバー依存の情報がキーボードでも取得でき、かつ制御できる

## 手動テスト手順（最小セット）
- ブラウザズーム 200% でログイン→主要導線を完遂
- 幅 320px 相当（レスポンシブモード）で同様に確認
- ツールチップ/ヘルプがキーボードフォーカスで表示でき、Esc/外クリック等で閉じられる（該当する場合）

## よくある落とし穴
- 固定幅のテーブル/グリッドが横スクロール必須で代替がない
- 文字数増加（多言語化）でボタンが崩れる
- ホバーでしか見えない操作（削除、編集等）が存在する
